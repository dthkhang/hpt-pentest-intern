# Tìm hiểu về Lab thực thành và các công cụ Pentest
> TÊN TÀI LIỆU: Lab & Pentest Tools Document <br>
THỰC HIỆN: Dương Tôn Hoàng Khang <br>
CẬP NHẬT CUỐI CÙNG: 02/10/2024<br>
>
## Mục lục
#### [1. Pentest tools](#p1)<br>
- [Burp Suite](#bs)
- [Nmap](#nmap)
- [Sqlmap](#sqlmap)
- [Subfinder](#subfinder)
- [Dirsearch](#dirsearch)
- [Waybackurls](#wayback)


#### [2. Lab thực hành](#thuchanh)<br>

<a id="p1"></a>
## 1. Pentest tools <br>
Đây là phần tổng hợp giới thiệu về các Pentest tools phổ biến. <br>
<a id="bs"></a>
- Burp Suite: là một công cụ Pentest toàn diện, được phát triển bởi PortSwigger. Công cụ này giúp kiểm tra và tìm kiếm các lỗ hổng bảo mật trong ứng dụng bằng cách phân tích và tương tác với lưu lượng HTTP/S giữa ứng dụng và máy chủ.<br>
    - Các tính năng được sử dụng nhiều nhất của Burp Suite:<br>
        - Intercepting Proxy: Chặn và thay đổi các yêu cầu và phản hồi HTTP/S để phân tích.<br>
         <img src="img/bs-proxy-exam.png" alt="alt text" width="600"> <br>
        - Intruder: Fuzzing, brute-force các tham số đầu vào của ứng dụng.<br>
         <img src="img/bs-intruder-exam.png" alt="alt text" width="600"> <br>
        - Repeater: Gửi lại các yêu cầu HTTP/S để kiểm tra và phân tích kết quả phản hồi.<br>
         <img src="img/bs-rpt-exam.png" alt="alt text" width="600"> <br>
        - Collaborator: Tính năng tương tự như webhook, tạo ra 1 host có thể theo dõi được cái request nhận được, phục vụ cho việc tìm kiếm SSRF,RCE... <br>
         <img src="img/bs-collaborator-exam.png" alt="alt text" width="600"> <br>
<a id="nmap"></a>
- Nmap: Một công cụ scan phổ biến có thể được sử dụng để phát hiện các ứng dụng và dịch vụ đang chạy trên một server, bao gồm các phiên bản ứng dụng hay các port service đang open.<br>
<img src="../information-gathering/img/nmap-exam.png" alt="alt text" width="600"> <br>
<img src="../information-gathering/img/nmap2-exam.png" alt="alt text" width="600"> <br>
- Sqlmap: là công cụ mã nguồn mở mạnh mẽ được sử dụng để kiểm tra và khai thác lỗ hổng SQL injection trong Web Application. Nó tự động phát hiện các lỗ hổng này bằng cách thực hiện hàng trăm, hàng nghìn payload khác nhau và hỗ trợ nhiều hệ quản trị cơ sở dữ liệu như MySQL, PostgreSQL và Oracle. <br>
<a id="thuchanh"></a>
    - VD: Ta có 1 Target bookstore như sau <br>
<img src="img/sqlmap-exam.png" alt="alt text" width="600"> <br>
Nhìn vào URL ta thấy có 1 para truyền vào ?bookisbn=978-0-321-94786-4, xét thấy có khả năng bị sqli nên ta test bằng cách thêm dấu ' để tạo input bất thường<br>
<img src="img/sqlmap2-exam.png" alt="alt text" width="600"> <br>
Nhận thấy tại chức năng view book bị sqli, ta tiếp tục sử dụng sqlmap để khai thác sâu hơn.<br>
input: sqlmap -u "http://103.97.125.56:30173/book.php?bookisbn=978-0-321-94786-4" <br>
Nhận được output như sau:<br>
<img src="img/sqlmap3-exam.png" alt="alt text" width="600"> <br>
Sử dụng --dbs để lấy ra danh sách database<br>
<img src="img/sqlmap4-exam.png" alt="alt text" width="600"> <br>
Sử dụng tiếp -D bookstore --tables để lấy ra các table trong database bookstore<br>
<img src="img/sqlmap5-exam.png" alt="alt text" width="600"> <br>
Xác định target cần lấy được là table admin trong database bookstore, ta tiếp tục sử dụng --dump để lấy data từ table ra.<br>
input: sqlmap -u "http://103.97.125.56:30173/book.php?bookisbn=978-0-321-94786-4" -D bookstore -T admin --dump<br>
<img src="img/sqlmap6-exam.png" alt="alt text" width="600"> <br>
<a id="subfinder"></a>
- Subfinder: là một công cụ mã nguồn mở được dùng để scan các subdomain của 1 target cụ thế. <br>
<img src="../information-gathering/img/subfinder-exam.png" alt="alt text" width="600"> <br>
<a id="dirsearch"></a>
- Dirsearch: là một công cụ mã nguồn mở được sử dụng để quét và tìm kiếm các thư mục và tệp ẩn trên các máy chủ web.
<img src="img/dirsearch-exam.png" alt="alt text" width="600"> <br>
<a id="wayback"></a>
- Waybackurls: là công cụ mã nguồn mở được sử dụng để thu thập URL từ Internet Archive (Wayback Machine). Cho phép dễ dàng tìm kiếm và liệt kê tất cả các URL đã được lưu trữ của một trang web cụ thể, giúp trong quá trình thu thập thông tin và phân tích các phiên bản trước đó của trang web đó.
<img src="img/wayback-exam.png" alt="alt text" width="600"> <br>